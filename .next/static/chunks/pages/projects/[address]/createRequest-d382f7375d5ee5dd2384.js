_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[12],{IiNs:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects/[address]/createRequest",function(){return r("WeW3")}])},WeW3:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var n=r("nKUr"),a=r("o0o1"),c=r.n(a),o=r("HaE+"),i=r("rePB"),s=r("ODXe"),u=r("q1tI"),l=r.n(u),p=r("469l"),d=r("Z3vd"),b=r("5CWz"),j=r("r9w1"),m=r("tRbT"),O=r("hlFM"),f=r("ofer"),h=r("R/WZ"),g=r("Ji2X"),x=r("5xi+"),v=r.n(x),w=r("WFGX"),y=r("oZBQ"),N=r("iuhU"),P=r("iae6"),W=r("6yBS"),k=r("+Isj"),_=r("20a2");function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I=Object(h.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},buttonSuccess:{backgroundColor:W.a[500],"&:hover":{backgroundColor:W.a[700]}},buttonProgress:{color:W.a[500],position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function S(e){var t=e.userAddress,r=I(),a=Object(_.useRouter)(),u=l.a.useState(!1),h=Object(s.a)(u,2),x=h[0],W=h[1],E=l.a.useState(!1),S=Object(s.a)(E,2),q=S[0],R=S[1],D=l.a.useState(!1),T=Object(s.a)(D,2),A=T[0],X=T[1],z=(Object(N.a)(Object(i.a)({},r.buttonSuccess,q)),l.a.useState({description:"",amount:"",recipient:""})),B=Object(s.a)(z,2),F=B[0],J=B[1],Z=function(e){return function(t){J(C(C({},F),{},Object(i.a)({},e,t.target.value)))}},U=function(){var e=Object(o.a)(c.a.mark((function e(){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!1),W(!0),console.log(t),r=Object(w.a)(t),e.prev=4,X(!0),e.next=8,y.a.eth.getAccounts();case 8:return n=e.sent,e.next=11,r.methods.createReq(F.recipient,F.description,F.amount).send({from:n[0]});case 11:R(!0),W(!1),X(!1),a.push("/projects/".concat(t,"/dashboard")),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(4),R(!1),W(!1),X(!1),console.log("Error: "+e.t0.message);case 23:case"end":return e.stop()}}),e,null,[[4,17]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(g.a,{component:"main",maxWidth:"xs",children:[Object(n.jsx)(b.a,{}),Object(n.jsxs)("div",{className:r.paper,children:[Object(n.jsx)(p.a,{className:r.avatar,children:Object(n.jsx)(v.a,{})}),Object(n.jsx)(f.a,{component:"h1",variant:"h5",children:"Create New Request"}),Object(n.jsxs)("form",{className:r.form,noValidate:!0,children:[Object(n.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"desc",label:"Enter description",name:"desc",value:F.description,onChange:Z("description"),autoFocus:!0}),Object(n.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"amount",label:"Amount in WEI",id:"amount",value:F.amount,onChange:Z("amount")}),Object(n.jsx)(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"recipient",label:"Recipient Address",id:"recipient",value:F.recipient,onChange:Z("recipient")}),Object(n.jsx)(d.a,{onClick:U,fullWidth:!0,variant:"contained",color:"primary",className:r.submit,disabled:x,children:"Create"}),Object(n.jsx)(k.a,{className:r.backdrop,open:A,children:Object(n.jsx)(P.a,{color:"inherit"})}),Object(n.jsxs)(m.a,{container:!0,children:[Object(n.jsx)(m.a,{item:!0,xs:!0}),Object(n.jsx)(m.a,{item:!0})]})]})]}),Object(n.jsx)(O.a,{mt:8})]})}S.getInitialProps=function(){var e=Object(o.a)(c.a.mark((function e(t){var r,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,n=r.address,console.log("hmm: "+n),e.abrupt("return",{userAddress:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},[["IiNs",0,1,2,3,4,5,6]]]);